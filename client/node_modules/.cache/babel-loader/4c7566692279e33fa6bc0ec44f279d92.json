{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import{loginUser}from'../services/api-helper';import{withRouter}from'react-router-dom';// This component handles our login form and has a link to the register form\nvar Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState(_defineProperty({},e.target.name,e.target.value));case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var currentUser;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return loginUser(_this.state.authFormData);case 3:currentUser=_context2.sent;currentUser?_this.setState({currentUser:currentUser}):alert(\"wrong username or password\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.state={currentUser:!true,authFormData:{username:\"\",email:\"\",password:\"\"}};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"auth-container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"login\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();_this2.handleLogin();}},/*#__PURE__*/React.createElement(\"p\",null,\"Username:\"),/*#__PURE__*/React.createElement(\"input\",{name:\"username\",type:\"text\",value:this.state.authFormData.username,onChange:this.handleChange,required:true}),/*#__PURE__*/React.createElement(\"p\",null,\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{name:\"password\",type:\"password\",value:this.state.authFormData.password,onChange:this.handleChange,required:true}),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Login\"),/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register\")));}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["/Users/fuentes/newB/chrysalist4/client/src/components/Login.jsx"],"names":["React","Link","loginUser","withRouter","Login","props","handleChange","e","setState","target","name","value","handleLogin","preventDefault","state","authFormData","currentUser","alert","username","email","password","Component"],"mappings":"0jCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,SAAT,KAAyB,wBAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA;GACqBC,CAAAA,K,0GACnB,eAAYC,KAAZ,CAAkB,uCAChB,uBAAMA,KAAN,EADgB,MAelBC,YAfkB,0FAeJ,iBAAOC,CAAP,kHACZ,MAAKC,QAAL,oBACGD,CAAC,CAACE,MAAF,CAASC,IADZ,CACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B,GADY,sDAfI,qEAsBjBC,WAtBiB,2FAsBJ,kBAAOL,CAAP,sIACbA,CAAC,CAACM,cAAF,GADa,uBAEaX,CAAAA,SAAS,CAAC,MAAKY,KAAL,CAAWC,YAAZ,CAFtB,QAEPC,WAFO,gBAGbA,WAAW,CAAG,MAAKR,QAAL,CAAc,CAAGQ,WAAW,CAAXA,WAAH,CAAd,CAAH,CAAqCC,KAAK,CAAC,4BAAD,CAArD,CAHa,wDAtBI,iEAGhB,MAAKH,KAAL,CAAa,CACXE,WAAW,CAAE,CAAC,IADH,CAEZD,YAAY,CAAE,CACZG,QAAQ,CAAE,EADE,CAEZC,KAAK,CAAE,EAFK,CAGZC,QAAQ,CAAE,EAHE,CAFF,CAAb,CAHgB,aAWlB,C,yDAoBU,iBACR,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,sCADF,cAEE,8BAFF,cAGE,4BAAM,QAAQ,CAAE,kBAACb,CAAD,CAAO,CACrBA,CAAC,CAACM,cAAF,GACA,MAAI,CAACD,WAAL,GAAoB,CAFtB,eAGE,yCAHF,cAIE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,MAA5B,CAAmC,KAAK,CAAE,KAAKE,KAAL,CAAWC,YAAX,CAAwBG,QAAlE,CAA4E,QAAQ,CAAE,KAAKZ,YAA3F,CAAyG,QAAQ,KAAjH,EAJF,cAKE,yCALF,cAME,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAE,KAAKQ,KAAL,CAAWC,YAAX,CAAwBK,QAAtE,CAAgF,QAAQ,CAAE,KAAKd,YAA/F,CAA6G,QAAQ,KAArH,EANF,cAOE,8BAPF,cAQE,8BAAQ,IAAI,CAAC,QAAb,UARF,cAUE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,aAVF,CAHF,CADF,CAkBD,C,mBAnDgCN,KAAK,CAACqB,S,SAApBjB,K","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { loginUser} from '../services/api-helper'\nimport { withRouter } from 'react-router-dom';\n\n// This component handles our login form and has a link to the register form\nexport default class Login extends React.Component{\n  constructor(props){\n    super(props)\n\n    this.state = {\n      currentUser: !true,\n     authFormData: {\n       username: \"\",\n       email: \"\",\n       password: \"\"\n     }\n   };\n }\n     \n    \n \n  handleChange= async (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n\n  }\n\n   handleLogin= async (e) => {\n   e.preventDefault();\n   const currentUser = await loginUser(this.state.authFormData);\n   currentUser ? this.setState({  currentUser }) : alert(\"wrong username or password\")\n   \n   }\n\n\n \n   render() {\n    return (\n      <div className=\"auth-container\">\n        <h2>login</h2>\n        <hr />\n        <form onSubmit={(e) => {\n          e.preventDefault();\n          this.handleLogin();}} >\n          <p>Username:</p>\n          <input name=\"username\" type=\"text\" value={this.state.authFormData.username} onChange={this.handleChange} required />\n          <p>Password:</p>\n          <input name=\"password\" type=\"password\" value={this.state.authFormData.password} onChange={this.handleChange} required />\n          <hr/>\n          <button type=\"submit\">Login</button>\n\n          <Link to=\"/register\">Register</Link>\n        </form>\n      </div>\n    );\n  }\n}  \n"]},"metadata":{},"sourceType":"module"}