{"ast":null,"code":"import _defineProperty from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Route,BrowserRouter}from'react-router-dom';import{withRouter}from'react-router';import UserView from'./components/UserView';// import EditUse from './component/EditUser'\nimport MoodPage from'./components/MoodPage';import Moods from'./components/Moods';// import UserPage from './components/UserPage'\n// import CreateRemedy from './components/CreateRemedies'\nimport Login from'./components/Login';import Register from'./components/Register';import{createRemedy,verifyUser,readAllRemedies,updateUser,destroyUser,readAllUsers}from'./services/api-helper';import Header from'./components/Header';import'./App.css';// import Header from './components/Header';\nvar App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.getUsers=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return readAllUsers();case 2:users=_context.sent;_this.setState({users:users});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.newRemedy=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var remedy;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return createRemedy(_this.state.remedyForm);case 3:remedy=_context2.sent;_this.setState(function(prevState){return{remedies:[].concat(_toConsumableArray(prevState.remedies),[remedy]),remedyForm:{title:\"\",descriptiom:\"\"}};});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.editUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var userForm,updatedUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:userForm=_this.state.userForm;_context3.next=3;return updateUser(userForm.id,userForm);case 3:updatedUser=_context3.sent;_this.setState(function(prevState){return{users:prevState.users.map(function(user){return user.id===userForm.id?updatedUser:user;})};});case 5:case\"end\":return _context3.stop();}}},_callee3);}));_this.deleteUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return destroyUser(id);case 2:_this.setState(function(prevState){return{users:prevState.users.filter(function(user){return user.id!==id;})};});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref4.apply(this,arguments);};}();_this.handleFormChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(function(prevState){return{userForm:_objectSpread({},prevState.userForm,_defineProperty({},name,value))};});};_this.mountEditForm=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var users,user;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return readAllUsers();case 2:users=_context5.sent;user=users.find(function(el){return el.id===parseInt(id);});_this.setState({userForm:user});case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3){return _ref5.apply(this,arguments);};}();_this.resetForm=function(){_this.setState({userForm:{name:\"\",photo:\"\"}});};_this.handleFormChange=function(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;_this.setState(function(prevState){return{userForm:_objectSpread({},prevState.userForm,_defineProperty({},name,value))};});};_this.mountEditForm=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var users,user;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return readAllUsers();case 2:users=_context6.sent;user=users.find(function(el){return el.id===parseInt(id);});_this.setState({userForm:user});case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref6.apply(this,arguments);};}();_this.mountRemedyCreateForm=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var remedies,remedy;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return readAllRemedies();case 2:remedies=_context7.sent;remedy=remedies.find(function(el){return el.id===parseInt(id);});_this.setState({remedyForm:remedy});case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref7.apply(this,arguments);};}();_this.mountRemedyEditForm=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id){var remedies,remedy;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return readAllRemedies();case 2:remedies=_context8.sent;remedy=remedies.find(function(el){return el.id===parseInt(id);});_this.setState({remedyForm:remedy});case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x6){return _ref8.apply(this,arguments);};}();_this.resetForm=function(){_this.setState({userForm:{name:\"\",photo:\"\"}});};_this.state={currentUser:null,authFormData:{username:\"\",email:\"\",password:\"\"}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var currentUser;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:this.getUsers();_context9.next=3;return verifyUser();case 3:currentUser=_context9.sent;if(currentUser){this.setState({currentUser:currentUser});}case 5:case\"end\":return _context9.stop();}}},_callee9,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,{handleLoginButton:this.handleLoginButton,handleLogout:this.handleLogout,currentUser:this.state.currentUser}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",render:function render(){return/*#__PURE__*/React.createElement(Login,{handleLogin:_this2.handleLogin,handleChange:_this2.authHandleChange,formData:_this2.state.authFormData});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/register\",render:function render(){return/*#__PURE__*/React.createElement(Register,null);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(MoodPage,null);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(Moods,null);}}),\"CreateRemedy\",/*#__PURE__*/React.createElement(Route,{path:\"/remedies/:id\",render:function render(props){var id=props.match.params.id;var remedy=_this2.state.remedies.find(function(el){return el.id===parseInt(id);});return/*#__PURE__*/React.createElement(Moods,{id:id,remedy:remedy,handleFormChange:_this2.handleFormChange,mountRemedyEditForm:_this2.mountRemedyEditForm,editRemedy:_this2.editRemedy,RemedyForm:_this2.state.RemedyForm,deleteRemedy:_this2.deleteRemedy});}}),/*#__PURE__*/React.createElement(Route,{path:\"/remedies/:id\",render:function render(props){var id=props.match.params.id;var remedy=_this2.state.remedies.find(function(el){return el.id===parseInt(id);});return/*#__PURE__*/React.createElement(Moods,{id:id,remedy:remedy,handleFormChange:_this2.handleFormChange,mountRemedyEditForm:_this2.mountRemedyEditForm,editRemedy:_this2.editRemedy,RemedyForm:_this2.state.RemedyForm,deleteRemedy:_this2.deleteRemedy});}}));}}]);return App;}(React.Component);export default withRouter(App);","map":{"version":3,"sources":["/Users/fuentes/newB/chrysalist4/client/src/App.js"],"names":["React","Route","BrowserRouter","withRouter","UserView","MoodPage","Moods","Login","Register","createRemedy","verifyUser","readAllRemedies","updateUser","destroyUser","readAllUsers","Header","App","props","getUsers","users","setState","newRemedy","e","preventDefault","state","remedyForm","remedy","prevState","remedies","title","descriptiom","editUser","userForm","id","updatedUser","map","user","deleteUser","filter","handleFormChange","target","name","value","mountEditForm","find","el","parseInt","resetForm","photo","mountRemedyCreateForm","mountRemedyEditForm","currentUser","authFormData","username","email","password","handleLoginButton","handleLogout","handleLogin","authHandleChange","match","params","editRemedy","RemedyForm","deleteRemedy","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport UserView from './components/UserView'\n// import EditUse from './component/EditUser'\nimport MoodPage from './components/MoodPage'\nimport Moods from './components/Moods'\n// import UserPage from './components/UserPage'\n// import CreateRemedy from './components/CreateRemedies'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport {\n  \n  createRemedy,\n  verifyUser,\n  readAllRemedies,\n  updateUser,\n  destroyUser,\n  readAllUsers,\n} from './services/api-helper';\n\nimport Header from './components/Header';\n\nimport './App.css';\n// import Header from './components/Header';\n\n  class App extends React.Component{\n\n\n constructor(props) {\n  super(props);\n  this.state = {\n    currentUser: null,\n    authFormData: {\n      username: \"\",\n      email: \"\",\n      password: \"\"\n    }\n  };\n}\n\n\nasync componentDidMount() {\n  this.getUsers();\n  const currentUser = await verifyUser();\n  if (currentUser) {\n    this.setState({ currentUser })\n  }\n}\n\ngetUsers = async () => {\n  const users = await readAllUsers();\n  this.setState({\n    users\n  })\n}\n\nnewRemedy = async (e) => {\n  e.preventDefault();\n  const remedy = await createRemedy(this.state.remedyForm);\n  this.setState(prevState => ({\n    remedies: [...prevState.remedies, remedy],\n    remedyForm: {\n      title: \"\",\n      descriptiom: \"\"\n    }\n  }))\n}\n\neditUser = async () => {\n  const { userForm } = this.state\n  const updatedUser = await updateUser(userForm.id, userForm);\n  this.setState(prevState => (\n    {\n      users: prevState.users.map(user => {\n        return user.id === userForm.id ? updatedUser : user\n      }),\n    }\n  ))\n}\n\ndeleteUser = async (id) => {\n  await destroyUser(id);\n  this.setState(prevState => ({\n    users: prevState.users.filter(user => user.id !== id)\n  }))\n}\n\nhandleFormChange = (e) => {\n  const { name, value } = e.target;\n  this.setState(prevState => ({\n    userForm: {\n      ...prevState.userForm,\n      [name]: value\n    }\n  }))\n}\n\nmountEditForm = async (id) => {\n  const users = await readAllUsers();\n  const user = users.find(el => el.id === parseInt(id));\n  this.setState({\n    userForm: user\n  });\n}\n\nresetForm = () => {\n  this.setState({\n    userForm: {\n      name: \"\",\n      photo: \"\"\n    }\n  })\n}\nhandleFormChange = (e) => {\n  const { name, value } = e.target;\n  this.setState(prevState => ({\n    userForm: {\n      ...prevState.userForm,\n      [name]: value\n    }\n  }))\n}\n\nmountEditForm = async (id) => {\n  const users = await readAllUsers();\n  const user = users.find(el => el.id === parseInt(id));\n  this.setState({\n    userForm: user\n  });\n}\n\nmountRemedyCreateForm = async (id) => {\n  const remedies = await readAllRemedies();\n  const remedy = remedies.find(el => el.id === parseInt(id));\n  this.setState({\n    remedyForm: remedy\n  });\n}\n\n\nmountRemedyEditForm = async (id) => {\n  const remedies = await readAllRemedies();\n  const remedy = remedies.find(el => el.id === parseInt(id));\n  this.setState({\n    remedyForm: remedy\n  });\n}\n\n\nresetForm = () => {\n  this.setState({\n    userForm: {\n      name: \"\",\n      photo: \"\"\n    }\n  })\n}\n\n \nrender(){\n\n    return (\n      <div className=\"App\" >\n        <Header\n          handleLoginButton={this.handleLoginButton}\n          handleLogout={this.handleLogout}\n          currentUser={this.state.currentUser}\n        />\n        <Route exact path=\"/login\" render={() => (\n          <Login\n            handleLogin={this.handleLogin}\n            handleChange={this.authHandleChange}\n            formData={this.state.authFormData} />)} />\n        <Route exact path=\"/register\" render={() => (\n          <Register />)} />\n        {/* <Route\n          exact path=\"/\"\n          render={() => (\n            <UserView\n              currentUser={this.state.currentUser}\n              users={this.state.users}\n              userForm={this.state.userForm}\n              handleFormChange={this.handleFormChange}\n              newUser={this.newUser} />\n          )}/> */}\n          <Route\n          exact path=\"/\"\n          render={() => (\n            <MoodPage />\n          )}/>\n          <Route\n          exact path=\"/\"\n          render={() => (\n            <Moods />\n          )}/>\n          CreateRemedy\n        <Route\n          path=\"/remedies/:id\"\n          render={(props) => {\n            const { id } = props.match.params;\n            const remedy = this.state.remedies.find(el => el.id === parseInt(id));\n            return <Moods\n            id={id}\n            remedy={remedy}\n            handleFormChange={this.handleFormChange}\n            mountRemedyEditForm={this.mountRemedyEditForm}\n            editRemedy={this.editRemedy}\n            RemedyForm={this.state.RemedyForm}\n            deleteRemedy={this.deleteRemedy} />\n          }}\n        />\n        <Route\n          path=\"/remedies/:id\"\n          render={(props) => {\n            const { id } = props.match.params;\n            const remedy = this.state.remedies.find(el => el.id === parseInt(id));\n            return <Moods\n              id={id}\n               remedy={remedy}\n              handleFormChange={this.handleFormChange}\n              mountRemedyEditForm={this.mountRemedyEditForm}\n              editRemedy={this.editRemedy}\n              RemedyForm={this.state.RemedyForm}\n              deleteRemedy={this.deleteRemedy} />\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n\n"]},"metadata":{},"sourceType":"module"}