{"ast":null,"code":"var _jsxFileName = \"/Users/fuentes/newB/chrysalist4/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport UserView from './components/';\nimport EditUse from './components/EditUser';\nimport MoodPage from './components/MoodPage';\nimport Moods from './components/Moods';\nimport UserPage from './components/UserPage';\nimport CreateRemedy from './components/CreateRemedies';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport { remedy, createRemedy, verifyUser, readAllRemedies, updateUser, destroyUser, readAllUsers } from './services/api-helper';\nimport Header from './components/Header';\nimport './App.css'; // import Header from './components/Header';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getUsers = async () => {\n      const users = await readAllUsers();\n      this.setState({\n        users\n      });\n    };\n\n    this.newRemedy = async e => {\n      e.preventDefault();\n      const remedy = await createRemedy(this.state.remedyForm);\n      this.setState(prevState => ({\n        remedies: [...prevState.remedies, remedy],\n        remedyForm: {\n          title: \"\",\n          descriptiom: \"\"\n        }\n      }));\n    };\n\n    this.editUser = async () => {\n      const {\n        userForm\n      } = this.state;\n      const updatedUser = await updateUser(userForm.id, userForm);\n      this.setState(prevState => ({\n        users: prevState.users.map(user => {\n          return user.id === userForm.id ? updatedUser : user;\n        })\n      }));\n    };\n\n    this.deleteUser = async id => {\n      await destroyUser(id);\n      this.setState(prevState => ({\n        users: prevState.users.filter(user => user.id !== id)\n      }));\n    };\n\n    this.handleFormChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState(prevState => ({\n        userForm: { ...prevState.userForm,\n          [name]: value\n        }\n      }));\n    };\n\n    this.mountEditForm = async id => {\n      const users = await readAllUsers();\n      const user = users.find(el => el.id === parseInt(id));\n      this.setState({\n        userForm: user\n      });\n    };\n\n    this.resetForm = () => {\n      this.setState({\n        userForm: {\n          name: \"\",\n          photo: \"\"\n        }\n      });\n    };\n\n    this.handleFormChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState(prevState => ({\n        userForm: { ...prevState.userForm,\n          [name]: value\n        }\n      }));\n    };\n\n    this.mountEditForm = async id => {\n      const users = await readAllUsers();\n      const user = users.find(el => el.id === parseInt(id));\n      this.setState({\n        userForm: user\n      });\n    };\n\n    this.mountRemedyCreateForm = async id => {\n      const remedies = await readAllRemedies();\n      const remedy = remedies.find(el => el.id === parseInt(id));\n      this.setState({\n        remedyForm: remedy\n      });\n    };\n\n    this.mountRemedyEditForm = async id => {\n      const remedies = await readAllRemedies();\n      const remedy = remedies.find(el => el.id === parseInt(id));\n      this.setState({\n        remedyForm: remedy\n      });\n    };\n\n    this.resetForm = () => {\n      this.setState({\n        userForm: {\n          name: \"\",\n          photo: \"\"\n        }\n      });\n    };\n\n    this.state = {\n      currentUser: null,\n      authFormData: {\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      }\n    };\n  }\n\n  async componentDidMount() {\n    this.getUsers();\n    const currentUser = await verifyUser();\n\n    if (currentUser) {\n      this.setState({\n        currentUser\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      handleLoginButton: this.handleLoginButton,\n      handleLogout: this.handleLogout,\n      currentUser: this.state.currentUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        handleLogin: this.handleLogin,\n        handleChange: this.authHandleChange,\n        formData: this.state.authFormData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      render: () => /*#__PURE__*/React.createElement(Register, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(UserView, {\n        currentUser: this.state.currentUser,\n        users: this.state.users,\n        userForm: this.state.userForm,\n        handleFormChange: this.handleFormChange,\n        newUser: this.newUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(MoodPage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(Moods, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }), \"CreateRemedy\", /*#__PURE__*/React.createElement(Route, {\n      path: \"/remedies/:id\",\n      render: props => {\n        const {\n          id\n        } = props.match.params;\n        const remedy = this.state.remedies.find(el => el.id === parseInt(id));\n        return /*#__PURE__*/React.createElement(Moods, {\n          id: id,\n          remedy: remdey,\n          handleFormChange: this.handleFormChange,\n          mountRemedyEditForm: this.mountRemedyEditForm,\n          editRemedy: this.editRemedy,\n          RemedyForm: this.state.RemedyForm,\n          deleteRemedy: this.deleteRemedy,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 20\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/remedies/:id\",\n      render: props => {\n        const {\n          id\n        } = props.match.params;\n        const remedy = this.state.remedies.find(el => el.id === parseInt(id));\n        return /*#__PURE__*/React.createElement(Moods, {\n          id: id,\n          remedie: remdey,\n          handleFormChange: this.handleFormChange,\n          mountRemedyEditForm: this.mountRemedyEditForm,\n          editRemedy: this.editRemedy,\n          RemedyForm: this.state.RemedyForm,\n          deleteRemedy: this.deleteRemedy,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 20\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/fuentes/newB/chrysalist4/client/src/App.js"],"names":["React","Component","Route","BrowserRouter","withRouter","UserView","EditUse","MoodPage","Moods","UserPage","CreateRemedy","Login","Register","remedy","createRemedy","verifyUser","readAllRemedies","updateUser","destroyUser","readAllUsers","Header","App","constructor","props","getUsers","users","setState","newRemedy","e","preventDefault","state","remedyForm","prevState","remedies","title","descriptiom","editUser","userForm","updatedUser","id","map","user","deleteUser","filter","handleFormChange","name","value","target","mountEditForm","find","el","parseInt","resetForm","photo","mountRemedyCreateForm","mountRemedyEditForm","currentUser","authFormData","username","email","password","componentDidMount","render","handleLoginButton","handleLogout","handleLogin","authHandleChange","newUser","match","params","remdey","editRemedy","RemedyForm","deleteRemedy"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport UserView from './components/'\nimport EditUse from './components/EditUser'\nimport MoodPage from './components/MoodPage'\nimport Moods from './components/Moods'\nimport UserPage from './components/UserPage'\nimport CreateRemedy from './components/CreateRemedies'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport {\n  remedy,\n  createRemedy,\n  verifyUser,\n  readAllRemedies,\n  updateUser,\n  destroyUser,\n  readAllUsers,\n} from './services/api-helper';\n\nimport Header from './components/Header';\n\nimport './App.css';\n// import Header from './components/Header';\n\n  class App extends React.Component{\n\n\n constructor(props) {\n  super(props);\n  this.state = {\n    currentUser: null,\n    authFormData: {\n      username: \"\",\n      email: \"\",\n      password: \"\"\n    }\n  };\n}\n\n\nasync componentDidMount() {\n  this.getUsers();\n  const currentUser = await verifyUser();\n  if (currentUser) {\n    this.setState({ currentUser })\n  }\n}\n\ngetUsers = async () => {\n  const users = await readAllUsers();\n  this.setState({\n    users\n  })\n}\n\nnewRemedy = async (e) => {\n  e.preventDefault();\n  const remedy = await createRemedy(this.state.remedyForm);\n  this.setState(prevState => ({\n    remedies: [...prevState.remedies, remedy],\n    remedyForm: {\n      title: \"\",\n      descriptiom: \"\"\n    }\n  }))\n}\n\neditUser = async () => {\n  const { userForm } = this.state\n  const updatedUser = await updateUser(userForm.id, userForm);\n  this.setState(prevState => (\n    {\n      users: prevState.users.map(user => {\n        return user.id === userForm.id ? updatedUser : user\n      }),\n    }\n  ))\n}\n\ndeleteUser = async (id) => {\n  await destroyUser(id);\n  this.setState(prevState => ({\n    users: prevState.users.filter(user => user.id !== id)\n  }))\n}\n\nhandleFormChange = (e) => {\n  const { name, value } = e.target;\n  this.setState(prevState => ({\n    userForm: {\n      ...prevState.userForm,\n      [name]: value\n    }\n  }))\n}\n\nmountEditForm = async (id) => {\n  const users = await readAllUsers();\n  const user = users.find(el => el.id === parseInt(id));\n  this.setState({\n    userForm: user\n  });\n}\n\nresetForm = () => {\n  this.setState({\n    userForm: {\n      name: \"\",\n      photo: \"\"\n    }\n  })\n}\nhandleFormChange = (e) => {\n  const { name, value } = e.target;\n  this.setState(prevState => ({\n    userForm: {\n      ...prevState.userForm,\n      [name]: value\n    }\n  }))\n}\n\nmountEditForm = async (id) => {\n  const users = await readAllUsers();\n  const user = users.find(el => el.id === parseInt(id));\n  this.setState({\n    userForm: user\n  });\n}\n\nmountRemedyCreateForm = async (id) => {\n  const remedies = await readAllRemedies();\n  const remedy = remedies.find(el => el.id === parseInt(id));\n  this.setState({\n    remedyForm: remedy\n  });\n}\n\n\nmountRemedyEditForm = async (id) => {\n  const remedies = await readAllRemedies();\n  const remedy = remedies.find(el => el.id === parseInt(id));\n  this.setState({\n    remedyForm: remedy\n  });\n}\n\n\nresetForm = () => {\n  this.setState({\n    userForm: {\n      name: \"\",\n      photo: \"\"\n    }\n  })\n}\n\n \nrender(){\n\n    return (\n      <div className=\"App\" >\n        <Header\n          handleLoginButton={this.handleLoginButton}\n          handleLogout={this.handleLogout}\n          currentUser={this.state.currentUser}\n        />\n        <Route exact path=\"/login\" render={() => (\n          <Login\n            handleLogin={this.handleLogin}\n            handleChange={this.authHandleChange}\n            formData={this.state.authFormData} />)} />\n        <Route exact path=\"/register\" render={() => (\n          <Register />)} />\n        <Route\n          exact path=\"/\"\n          render={() => (\n            <UserView\n              currentUser={this.state.currentUser}\n              users={this.state.users}\n              userForm={this.state.userForm}\n              handleFormChange={this.handleFormChange}\n              newUser={this.newUser} />\n          )}/>\n          <Route\n          exact path=\"/\"\n          render={() => (\n            <MoodPage />\n          )}/>\n          <Route\n          exact path=\"/\"\n          render={() => (\n            <Moods />\n          )}/>\n          CreateRemedy\n        <Route\n          path=\"/remedies/:id\"\n          render={(props) => {\n            const { id } = props.match.params;\n            const remedy = this.state.remedies.find(el => el.id === parseInt(id));\n            return <Moods\n            id={id}\n            remedy={remdey}\n            handleFormChange={this.handleFormChange}\n            mountRemedyEditForm={this.mountRemedyEditForm}\n            editRemedy={this.editRemedy}\n            RemedyForm={this.state.RemedyForm}\n            deleteRemedy={this.deleteRemedy} />\n          }}\n        />\n        <Route\n          path=\"/remedies/:id\"\n          render={(props) => {\n            const { id } = props.match.params;\n            const remedy = this.state.remedies.find(el => el.id === parseInt(id));\n            return <Moods\n              id={id}\n               remedie={remdey}\n              handleFormChange={this.handleFormChange}\n              mountRemedyEditForm={this.mountRemedyEditForm}\n              editRemedy={this.editRemedy}\n              RemedyForm={this.state.RemedyForm}\n              deleteRemedy={this.deleteRemedy} />\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n\n"]},"metadata":{},"sourceType":"module"}