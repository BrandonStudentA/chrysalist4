{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fuentes/newB/chrysalist4/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var baseUrl=process.env.NODE_ENV==='production'?'https://ancient-scrubland-63876.herokuapp.com/':'http://localhost:30000';var api=axios.create({baseURL:baseUrl});export var loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(loginData){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.post('/auth/login',{auth:loginData});case 2:resp=_context.sent;localStorage.setItem('authToken',resp.data.token);api.defaults.headers.common.authorization=\"Bearer \".concat(resp.data.token);return _context.abrupt(\"return\",resp.data.user);case 6:case\"end\":return _context.stop();}}},_callee);}));return function loginUser(_x){return _ref.apply(this,arguments);};}();export var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(registerData){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.post('/users/',{user:registerData});case 2:resp=_context2.sent;localStorage.setItem('authToken',resp.data.token);api.defaults.headers.common.authorization=\"Bearer \".concat(resp.data.token);return _context2.abrupt(\"return\",resp.data.user);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function registerUser(_x2){return _ref2.apply(this,arguments);};}();export var verifyUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,resp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=localStorage.getItem('authToken');if(!token){_context3.next=7;break;}api.defaults.headers.common.authorization=\"Bearer \".concat(token);_context3.next=5;return api.get('/auth/verify');case 5:resp=_context3.sent;return _context3.abrupt(\"return\",resp.data);case 7:return _context3.abrupt(\"return\",false);case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function verifyUser(){return _ref3.apply(this,arguments);};}();export var removeToken=function removeToken(){api.defaults.headers.common.authorization=null;};export var readAllUsers=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var resp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return api.get('/users');case 2:resp=_context4.sent;return _context4.abrupt(\"return\",resp.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function readAllUsers(){return _ref4.apply(this,arguments);};}();export var updateUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id,data){var resp;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return api.put(\"/users/\".concat(id),{user:data});case 2:resp=_context5.sent;return _context5.abrupt(\"return\",resp.data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function updateUser(_x3,_x4){return _ref5.apply(this,arguments);};}();export var destroyUser=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var resp;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return api.delete(\"/users/\".concat(id));case 2:resp=_context6.sent;return _context6.abrupt(\"return\",resp.data);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function destroyUser(_x5){return _ref6.apply(this,arguments);};}();// ---------------------remedies----------------------\nexport var createRemedy=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data){var resp;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return api.post('new/remedies',{remedy:data});case 2:resp=_context7.sent;return _context7.abrupt(\"return\",resp.data);case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function createRemedy(_x6){return _ref7.apply(this,arguments);};}();export var readAllRemedies=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id,mood_id){var resp;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return api.get(\"/remedies/\".concat(id,\"/\").concat(mood_id));case 2:resp=_context8.sent;return _context8.abrupt(\"return\",resp.data);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function readAllRemedies(_x7,_x8){return _ref8.apply(this,arguments);};}();export var viewAllMoods=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var resp;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return api.get('/moods');case 2:resp=_context9.sent;return _context9.abrupt(\"return\",resp.data);case 4:case\"end\":return _context9.stop();}}},_callee9);}));return function viewAllMoods(){return _ref9.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/fuentes/newB/chrysalist4/client/src/services/api-helper.js"],"names":["axios","baseUrl","process","env","NODE_ENV","api","create","baseURL","loginUser","loginData","post","auth","resp","localStorage","setItem","data","token","defaults","headers","common","authorization","user","registerUser","registerData","verifyUser","getItem","get","removeToken","readAllUsers","updateUser","id","put","destroyUser","delete","createRemedy","remedy","readAllRemedies","mood_id","viewAllMoods"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = process.env.NODE_ENV === 'production' ?'https://ancient-scrubland-63876.herokuapp.com/': 'http://localhost:30000'\n\nconst api = axios.create({\n  baseURL: baseUrl\n})\n\n\n\nexport const loginUser = async (loginData) => {\n  const resp = await api.post('/auth/login', { auth: loginData })\n  localStorage.setItem('authToken', resp.data.token);\n  api.defaults.headers.common.authorization = `Bearer ${resp.data.token}`\n  return resp.data.user\n}\n\nexport const registerUser = async (registerData) => {\n  const resp = await api.post('/users/', { user: registerData })\n  localStorage.setItem('authToken', resp.data.token);\n  api.defaults.headers.common.authorization = `Bearer ${resp.data.token}`\n  return resp.data.user\n}\n\nexport const verifyUser = async () => {\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    api.defaults.headers.common.authorization = `Bearer ${token}`\n    const resp = await api.get('/auth/verify');\n    return resp.data\n  }\n  return false\n}\n\n\n\nexport const removeToken = () => {\n  api.defaults.headers.common.authorization = null;\n}\n\nexport const readAllUsers = async () => {\n  const resp = await api.get('/users')\n  return resp.data\n}\n\nexport const updateUser = async (id, data) => {\n  const resp = await api.put(`/users/${id}`, { user: data })\n  return resp.data\n}\n\nexport const destroyUser = async (id) => {\n  const resp = await api.delete(`/users/${id}`)\n  return resp.data\n}\n// ---------------------remedies----------------------\n\nexport const createRemedy = async (data ) => {\n    const resp = await api.post('new/remedies', {remedy:data})\n    return resp.data\n}\nexport const readAllRemedies = async (id, mood_id) => {\n  const resp = await api.get(`/remedies/${id}/${mood_id}`)\n  return resp.data\n}\nexport const viewAllMoods = async () => {\n  const resp = await api.get('/moods')\n  return resp.data\n}"]},"metadata":{},"sourceType":"module"}